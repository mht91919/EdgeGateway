<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="./flexible.js"></script>
    <script type="text/javascript" src="./jquery.js"></script>
    <script type="text/javascript" src="./common.js"></script>
    <script type="text/javascript" src="./zhongji.js"></script>
    <link rel="stylesheet" type="text/css" href="./common.css" />
    <link rel="stylesheet" type="text/css" href="./index.css" />

    <script type="text/javascript">

        $(document).ready(function () {
            setInterval(myfunction, 1000);
            setInterval(getTime, 1000);

            //getDeviceRealConnect();

            getDevice();
            getHasTaskWeldingMode();

            $('#resTextExit').click(funExit);
        });

        var lamMode = null;
        var weldMode = null;

        function mainfunswitchweldMode() {
            $("#_switchMode").css('display', '');
            $("#_switchweldMode").css('display', '');
            $("#_switchLamMode").css('display', 'none');
        }

        function mainfunswitchlampMode() {
            $("#_switchMode").css('display', '');
            $("#_switchLamMode").css('display', '');
            $("#_switchweldMode").css('display', 'none');
        }

        function funcloseswitchMode() {
            $("#_switchMode").css('display', 'none');
        }

        function funconfirmswitchLampMode() {


            console.log("当前灯的状态：" + lamMode+"(0:wifi,1:USB)");
            $.ajax({
                type: "Get",//提交方式，分为get和post两种
                url: "/api/setHasTaskLampMode?name=" + lamMode + "",//路径，就是你要交互的后台的路径

                success: function (data) {    //交互成功后的回调函数，data为返回的内容
                },
                error: function (data) {
                    console.log("setHasTaskLampMode Error");
                }
            });

            $("#_switchMode").css('display', 'none');
        }

        function funconfirmswitchweldMode() {

            if (weldMode == "脉冲") {
                selectIndex = "0";
            } else if (weldMode == "恒流") {
                selectIndex = "1";
            } else if (weldMode == "埋弧焊") {
                selectIndex = "2";
            }

            $.ajax({
                type: "Get",//提交方式，分为get和post两种
                url: "/api/setHasTaskWeldingMode?name=" + selectIndex + "",//路径，就是你要交互的后台的路径

                success: function (data) {    //交互成功后的回调函数，data为返回的内容

                    alert();
                },
                error: function (data) {

                    console.log("setHasTaskWeldingMode Error");
                }
            });

            $("#_switchMode").css('display', 'none');
        }

        function funswitchLamMode(data) {

            lamMode = data;

            if (data === 0) {
                document.getElementById("_lampManageWifi").style.backgroundColor = "rgba(231, 239, 255, 1)";
                document.getElementById("_lampManageUSB").style.backgroundColor = null;

            }
            else {
                document.getElementById("_lampManageUSB").style.backgroundColor = "rgba(231, 239, 255, 1)";
                document.getElementById("_lampManageWifi").style.backgroundColor = null;
            }
        }

        function funswitchweldMode(data) {

            weldMode = data;

            $('#_list_1').children().css({ "background-color": "" });
            $('#' + data).css({ "background-color": "rgba(231, 239, 255, 1)" });

        }

    </script>
</head>
<body>
    <div class="page flex-col">
        <div class="group_1 flex-col">
            <div class="group_2 flex-col">
                <div class="section_4 flex-row">
                    <img class="image_1"
                         referrerpolicy="no-referrer"
                         src="./img/SketchPng6e2dfcef8cfe5d3e9ec4e6f4b2a720c1e8cab0a396153203f3d57740fde4fe88.png" />
                    <img class="image_2"
                         referrerpolicy="no-referrer"
                         src="./img/SketchPng09261018837d69c72a9a5aa06e008a0eda96bdf9b831a2135672889c0c9f4310.png" />
                    <span class="text_1">东重边缘计算系统</span>

                    <div class="text-wrapper_11 flex-col justify-between">
                        <span class="text_2" id="resTextTime"></span>
                        <span class="text_3" id="resTextDate"></span>
                    </div>
                    <img class="image_3"
                         referrerpolicy="no-referrer"
                         src="./img/SketchPng24d6b09c91d8e8d6582ac89048d799e37c416a25dacd14a7eece8dde733d4d2e.png" />

                    <div class="group_3 flex-row justify-between" style="cursor:pointer;" onclick="mainfunswitchweldMode()">
                        <span class="text_4">切换焊接模式</span>
                    </div>
                    <div class="group_3 flex-row justify-between" style="cursor:pointer;" onclick="mainfunswitchlampMode()">
                        <span class="text_4">切换报警灯</span>
                    </div>

                    <div class="group_4 flex-row justify-between">
                        <label for="agree" class="label33" onclick="checkclick()">
                            <img class="thumbnail_1" src="img/SketchPnge1389b91eaa2f2aa35899e1ecb63d6c1376b820d9d58ca8609dff81f9bd2e362.png"
                                 referrerpolicy="no-referrer" id="checkimg">
                            <span id="resSilence" class="text_49" style="display:none">报警消音</span>
                            <span id="resMute" class="text_49">开启报警</span>
                        </label>
                        <input type="checkbox" id="agree" checked="checked" style="display:none">
                    </div>

                    <div class="group_5 flex-row justify-between" onclick="funExit()" style="cursor:pointer;">
                        <img class="thumbnail_2"
                             referrerpolicy="no-referrer"
                             src="./img/SketchPng0688e4faba5e9f3396b11ddfed71f33b34cce3f8aa1cee7fd7e451445cabe315.png" />
                        <span class="text_5">退出</span>
                    </div>
                </div>
                <div class="section_5 flex-row justify-between">
                    <div class="box_1 flex-col">

                        <!------------------------------------------------------------>

                        <div class="group_13 flex-row">
                            <img class="image_13"
                                 referrerpolicy="no-referrer"
                                 src="./img/SketchPnge174ed5593b0a085c6fb75ea3d8ccf7ae28743569bbd5b9d6cd20ca19e92ec64.png" />
                            <div class="text-wrapper_12 flex-col justify-between">
                                <span class="text_6">设备编号</span>
                                <span class="text_7" id="resTextDeviceNo"></span>
                            </div>
                            <div class="group_14 flex-row">
                                <span class="text_9">平台通讯</span>
                                <div class="image-wrapper_1 flex-col">
                                    <img class="thumbnail_9" id="rescheckIOTConnect"
                                         referrerpolicy="no-referrer"
                                         src="./img/close.png" />
                                </div>
                            </div>
                            <div class="group_15 flex-row">
                                <span class="text_10">设备通讯</span>
                                <div class="image-wrapper_2 flex-col">
                                    <img class="thumbnail_10" id="rescheckDeviceConnect"
                                         referrerpolicy="no-referrer"
                                         src="./img/close.png" />
                                </div>
                            </div>

                            <div class="group_16 flex-row" id="_haseTaskModel">
                                <span class="text_9" id="resModel"></span>
                                <div class="image-wrapper_1 flex-col">
                                    <img class="thumbnail_9" id="resModelImage"
                                         referrerpolicy="no-referrer"
                                         src="./img/SketchPngd018a0dc2d50124dac3dbbde03ccf20afc2dfe3031d6b828021e677b5eac49e5.png" />
                                </div>
                            </div>

                            <!--<select name="selectList" id="resSeleMasterCode" class="text-wrapper_33 flex-row" onclick="confirmSet(this)" onchange="changecolor()">
                            </select>-->
                        </div>

                        <!------------------------------------------------------------>

                        <div class="block_2 flex-col"></div>

                        <!------------------------------------------------------------>

                        <img class="label_2"
                             referrerpolicy="no-referrer"
                             src="./img/SketchPngb6cdd3b3c3ae842abf9cb3c1a42557bba7f0b3c04d7e468a616395600af01579.png" />

                        <!-----------------------------------------------------------A-->

                        <div id="maichongCurrent">
                            <div class="group_17 flex-row">
                                <div class="image-text_8 flex-row justify-between">
                                    <div class="text-group_8 flex-col justify-between">
                                        <span class="text_111">阈值</span>
                                        <span class="text_11" id="current_base"></span>
                                        <span class="text_12">基值最小值</span>
                                    </div>
                                    <img class="image_5"
                                         referrerpolicy="no-referrer"
                                         src="./img/SketchPngf26d5eaaaaef810a66edefaf4d1b092fa6902e337a61e075a9ae1393ccb8bb45.png" />
                                </div>
                                <span class="text_13">888</span>
                                <span class="text_14" id="resCurrentBaseInteger"></span>
                                <span class="text_15">.8</span>
                                <img class="image_6"
                                     referrerpolicy="no-referrer"
                                     src="./img/SketchPngb46fc42ad5a5468d22aac004395ddb608cbb2a5eb3e78ad02c0887e3b9a9d09a.png" />
                                <span class="text_16">888</span>
                                <span class="text_17" id="resCurrentPeakInteger"></span>
                                <span class="text_18">.8</span>
                                <div class="image-text_9 flex-row justify-between">
                                    <img class="image_7"
                                         referrerpolicy="no-referrer"
                                         src="./img/SketchPngf26d5eaaaaef810a66edefaf4d1b092fa6902e337a61e075a9ae1393ccb8bb45.png" />
                                    <div class="text-group_9 flex-col justify-between">
                                        <span class="text_199">阈值</span>
                                        <span class="text_19" id="current_peak"></span>
                                        <span class="text_20">峰值最大值</span>
                                    </div>
                                </div>
                                <span class="text_21" id="resCurrentBaseDecimal"></span>
                                <span class="text_22" id="resCurrentPeakDecimal"></span>
                            </div>
                            <div class="text-wrapper_13 flex-row justify-between">
                                <span class="text_23">电流基值</span>
                                <span class="text_24">电流峰值</span>
                            </div>
                        </div>

                        <div id="hengliuCurrent">
                            <div class="group_399 flex-row">
                                <div class="image-text_8 flex-row justify-between">
                                    <div class="text-group_1299 flex-col justify-between">
                                        <span class="text_12399">阈值</span>
                                        <span class="text_1199" id="current_min"></span>
                                        <span class="text_1299">最小值</span>
                                    </div>
                                    <img class="image_599"
                                         referrerpolicy="no-referrer"
                                         src="./img/SketchPngf26d5eaaaaef810a66edefaf4d1b092fa6902e337a61e075a9ae1393ccb8bb45.png" />
                                </div>
                                <span class="text_1399">888</span>
                                <span class="text_1499" id="reshengliuAinteger"></span>
                                <span class="text_1599" id="">.8</span>
                                <div class="image-text_1399 flex-row justify-between">
                                    <img class="image_699"
                                         referrerpolicy="no-referrer"
                                         src="./img/SketchPngf26d5eaaaaef810a66edefaf4d1b092fa6902e337a61e075a9ae1393ccb8bb45.png" />
                                    <div class="text-group_1399 flex-col justify-between">
                                        <span class="text_12399">阈值</span>
                                        <span class="text_1699" id="current_max"></span>
                                        <span class="text_1799">最大值</span>
                                    </div>
                                </div>
                                <span class="text_1899" id="reshengliuAintegerDecimal"></span>
                            </div>
                            <span class="text_1999">实时电流</span>
                        </div>
                        <!------------------------------------------------------------>

                        <img class="image_8"
                             referrerpolicy="no-referrer"
                             src="./img/SketchPngdd0def474b8787fed9eac5b3c5c1940ab6794d809ba42ab419ed4b9d2edc2d96.png" />
                        <img class="label_3"
                             referrerpolicy="no-referrer"
                             src="./img/SketchPng6705af63a0d717ff43dd6a6ea321de943eecd49c00551c675ab2b014cc0334d5.png" />

                        <!------------------------------------------------------------>

                        <div id="maichongVoltage">
                            <div class="group_18 flex-row">
                                <div class="image-text_10 flex-row justify-between">
                                    <div class="text-group_10 flex-col justify-between">
                                        <span class="text_111">阈值</span>
                                        <span class="text_25" id="voltage_base"></span>
                                        <span class="text_12">基值最小值</span>
                                    </div>
                                    <img class="image_9"
                                         referrerpolicy="no-referrer"
                                         src="./img/SketchPngf26d5eaaaaef810a66edefaf4d1b092fa6902e337a61e075a9ae1393ccb8bb45.png" />
                                </div>
                                <span class="text_27">888</span>
                                <span class="text_28" id="resVoltageBaseInteger"></span>
                                <span class="text_29">.8</span>
                                <img class="image_10"
                                     referrerpolicy="no-referrer"
                                     src="./img/SketchPngb46fc42ad5a5468d22aac004395ddb608cbb2a5eb3e78ad02c0887e3b9a9d09a.png" />
                                <span class="text_30">888</span>
                                <span class="text_36" id="resVoltagePeakInteger"></span>
                                <span class="text_31">.8</span>
                                <div class="image-text_11 flex-row justify-between">
                                    <img class="image_11"
                                         referrerpolicy="no-referrer"
                                         src="./img/SketchPngf26d5eaaaaef810a66edefaf4d1b092fa6902e337a61e075a9ae1393ccb8bb45.png" />
                                    <div class="text-group_11 flex-col justify-between">
                                        <span class="text_199">阈值</span>
                                        <span class="text_32" id="voltage_peak"></span>
                                        <span class="text_33">峰值最大值</span>
                                    </div>
                                </div>
                                <span class="text_34" id="resVoltageBaseDecimal"></span>
                                <span class="text_35" id="resVoltagePeakDecimal"></span>

                            </div>
                            <div class="text-wrapper_14 flex-row justify-between">
                                <span class="text_37">电压基值</span>
                                <span class="text_38">电压峰值</span>
                            </div>
                        </div>

                        <div id="hengliuVoltage">
                            <div class="group_499 flex-row">
                                <div class="image-text_8 flex-row justify-between">
                                    <div class="text-group_1499 flex-col justify-between">
                                        <span class="text_12399">阈值</span>
                                        <span class="text_1199" id="voltage_min"></span>
                                        <span class="text_1299">最小值</span>
                                    </div>
                                    <img class="image_899"
                                         referrerpolicy="no-referrer"
                                         src="./img/SketchPngf26d5eaaaaef810a66edefaf4d1b092fa6902e337a61e075a9ae1393ccb8bb45.png" />
                                </div>
                                <span class="text_2299">888</span>
                                <span class="text_2399" id="reshengliuVinteger"></span>
                                <span class="text_2499">.8</span>
                                <div class="image-text_1599 flex-row justify-between">
                                    <img class="image_999"
                                         referrerpolicy="no-referrer"
                                         src="./img/SketchPngf26d5eaaaaef810a66edefaf4d1b092fa6902e337a61e075a9ae1393ccb8bb45.png" />
                                    <div class="text-group_1599 flex-col justify-between">
                                        <span class="text_12399">阈值</span>
                                        <span class="text_2599" id="voltage_max"></span>
                                        <span class="text_2699">最大值</span>
                                    </div>
                                </div>
                                <span class="text_2799" id="reshengliuVintegerDecimal"></span>
                            </div>
                            <span class="text_2899">实时电压</span>
                        </div>
                    </div>
                    <!------------------------------------------------------------>

                    <div class="box_2 flex-col">
                        <div id="_task">
                            <div class="group_42 flex-row justify-between" id="_alert" hidden="hidden">
                                <img class="label_12"
                                     referrerpolicy="no-referrer"
                                     src="./img/SketchPng9a7b841108005e28073e391f538c20e35a538340d6f3ef4772d07398eedaf5af.png" />
                                <span class="text_82">当前识别的焊接模式与任务中的焊接模式不一致</span>
                            </div>

                            <div class="box_499 flex-col">
                                <div class="section_1099 flex-row justify-end">
                                    <div class="block_199 flex-col">
                                        <img class="thumbnail_1299"
                                             referrerpolicy="no-referrer"
                                             src="./img/SketchPng7ccc5a0312a723a005baa1dadce2154967c91e70918418132d86f2e85c720f98.png" />
                                        <div class="group_1799 flex-col"></div>
                                        <div class="group_1899 flex-col"></div>
                                        <img class="label_599"
                                             referrerpolicy="no-referrer"
                                             src="./img/SketchPngcc7ff540daa4cb5ff92e5a378fb5c526b567b0bc9c575f9192b26c9cd61edeb6.png" />
                                    </div>
                                    <span class="text_3999">焊接任务</span>
                                    <div class="text-wrapper_599 flex-col">
                                        <span class="text_4099">进行中</span>
                                    </div>
                                </div>
                                <div class="box_799 flex-col"></div>

                                <div class="section_1199 flex-row justify-between">
                                    <div class="image-text_1499 flex-row justify-between">
                                        <img class="thumbnail_1399"
                                             referrerpolicy="no-referrer"
                                             src="./img/SketchPngb091b9fa66941ff6d3ce971763d383a72a35e027a4f4cad5075b170bc5e3cf31.png" />
                                        <span class="text-group_599">流转卡号:</span>
                                    </div>
                                    <span class="text_4199" id="st_no"></span>
                                </div>
                                <div class="section_1199 flex-row justify-between">
                                    <div class="image-text_1499 flex-row justify-between">
                                        <img class="thumbnail_1399"
                                             referrerpolicy="no-referrer"
                                             src="./img/SketchPngb091b9fa66941ff6d3ce971763d383a72a35e027a4f4cad5075b170bc5e3cf31.png" />
                                        <span class="text-group_599">工序号:</span>
                                    </div>
                                    <span class="text_4199" id="op_no"></span>
                                </div>
                                <div class="section_1199 flex-row justify-between">
                                    <div class="image-text_1499 flex-row justify-between">
                                        <img class="thumbnail_1399"
                                             referrerpolicy="no-referrer"
                                             src="./img/SketchPngb091b9fa66941ff6d3ce971763d383a72a35e027a4f4cad5075b170bc5e3cf31.png" />
                                        <span class="text-group_599">工序内容:</span>
                                    </div>
                                    <span class="text_4199" id="op_content"></span>
                                </div>
                                <div class="section_1199 flex-row justify-between">
                                    <div class="image-text_1499 flex-row justify-between">
                                        <img class="thumbnail_1399"
                                             referrerpolicy="no-referrer"
                                             src="./img/SketchPngb091b9fa66941ff6d3ce971763d383a72a35e027a4f4cad5075b170bc5e3cf31.png" />
                                        <span class="text-group_599">工序备注:</span>
                                    </div>
                                    <span class="text_4199" id="op_remarks"></span>
                                </div>


                                <div class="image-text_18 flex-col justify-between">
                                    <div class="box_12 flex-col">
                                        <div class="box_13 flex-row">
                                            <div class="text-group_32 flex-col justify-between">
                                                <span class="text_66">焊缝代号</span>
                                                <span class="text_67" id="weld_code"></span>
                                            </div>
                                            <div class="text-group_33 flex-col justify-between">
                                                <span class="text_68">焊缝类型</span>
                                                <span class="text_69" id="weld_type"></span>
                                            </div>
                                            <div class="text-group_34 flex-col justify-between">
                                                <span class="text_70">人员类型</span>
                                                <span class="text_71" id="operator_type"></span>
                                            </div>
                                        </div>
                                        <div class="box_14 flex-row">
                                            <div class="text-group_38 flex-col justify-between">
                                                <span class="text_72">工作令号</span>
                                                <span class="text_73" id="wo_no"></span>
                                            </div>
                                            <div class="text-group_39 flex-col justify-between">
                                                <span class="text_74">WPS编号</span>
                                                <span class="text_75" id="wps_code"></span>
                                            </div>
                                            <div class="text-group_40 flex-col justify-between">
                                                <span class="text_76">班次</span>
                                                <span class="text_77" id="classes"></span>
                                            </div>
                                        </div>
                                        <div class="box_15 flex-row">
                                            <div class="text-group_44 flex-col justify-between">
                                                <span class="text_78">任务分类</span>
                                                <span class="text_79" id="task_sort"></span>
                                            </div>
                                            <div class="text-group_45 flex-col justify-between">
                                                <span class="text_80">焊接方法</span>
                                                <span class="text_81" id="weld_method"></span>
                                            </div>
                                            <div class="text-group_45 flex-col justify-between">
                                                <span class="text_85">焊层/道</span>
                                                <span class="text_86" id="weld_layer"></span>
                                            </div>
                                        </div>
                                        <div class="box_16 flex-row">
                                            <div class="text-group_48 flex-col justify-between">
                                                <span class="text_82">备注</span>
                                                <span class="text_83" id="remarks"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="text-group_50 flex-row justify-between">
                                        <span class="text_6399">任务创建:</span>
                                        <span class="text_6399" id="task_create_time"></span>
                                        <span class="text_84">任务更新:</span>
                                        <span class="text_84" id="task_updte_time"></span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!------------------------------------------------------------>

                        <div id="_tasknone">
                            <img class="image_15"
                                 referrerpolicy="no-referrer"
                                 src="./img/SketchPng290cb5f08fda14d022e1b3871efb47153ca35c451ae6179dfba45ff9055ccbd7.png" />
                            <span class="text_45">暂无任务</span>
                        </div>
                    </div>
                    <!------------------------------------------------------------>
                </div>
                <div class="text-wrapper_19 flex-row">
                    <span class="text_54">东方电气（广州）重型机器有限公司</span>
                </div>
            </div>
        </div>

        <div class="group_10 flex-row justify-between" style="display:none" id="_switchMode">

            <div class="group_11 flex-col" id="_switchweldMode">
                <div class="box_122 flex-row justify-between">
                    <span class="text_43">切换焊接模式</span>
                    <img class="label_4" style="cursor:pointer;" onclick="funcloseswitchMode()"
                         referrerpolicy="no-referrer"
                         src="./img/SketchPng1c41a5353b4174a5504de7c57ce313824cd604afdc41a966d1b26607b3a76e91.png" />
                </div>
                <div class="list_1 flex-row" id="_list_1">
                </div>
                <img class="image_12"
                     referrerpolicy="no-referrer"
                     src="./img/SketchPng7841727e7e3900ba510bf328ddbb955b1ac0948e4e43418e5054b5f5013322a7.png" />
                <div class="text-wrapper_7 flex-col" style="cursor:pointer;" onclick="funconfirmswitchweldMode()">
                    <span class="text_44">确认</span>
                </div>
            </div>

            <div class="group_12 flex-col" id="_switchLamMode">
                <div class="section_3 flex-row justify-between">
                    <span class="text_455">切换报警灯</span>

                    <img class="label_6" style="cursor:pointer;" onclick="funcloseswitchMode()"
                         referrerpolicy="no-referrer"
                         src="./img/SketchPng1c41a5353b4174a5504de7c57ce313824cd604afdc41a966d1b26607b3a76e91.png" />
                </div>
                <div class="section_4 flex-row justify-between">
                    <div class="text-wrapper_8 flex-col" id="_lampManageWifi" style="cursor:pointer;" onclick="funswitchLamMode(0)">
                        <span class="text_46">网络报警灯</span>
                    </div>
                    <div class="text-wrapper_9 flex-col" id="_lampManageUSB" style="cursor:pointer;" onclick="funswitchLamMode(1)">
                        <span class="text_47">本地报警灯</span>
                    </div>
                </div>

                <img class="image_133"
                     referrerpolicy="no-referrer"
                     src="./img/SketchPng54cbb281549fe6e284672cb062a26cea1a0216ed7b864d86a0b0a3c6b5c6d025.png" />
                <div class="text-wrapper_10 flex-col" style="cursor:pointer;" onclick="funconfirmswitchLampMode()">
                    <span class="text_48">确认</span>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
